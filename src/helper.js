module.exports = {

    logStart() {
        console.log('Bot has been started ...')
    },

    getChatId(msg) {
        return msg.chat.id
    },

    getItemUuid(source) {
        return source.substr(2, source.length)
    },

    getDateFromRide(ride) {
        let rideDate = ride.datetime

        let h = rideDate.getHours()
        let m = rideDate.getMinutes()
        let d = rideDate.getDay()

        m = checkTime(m)

        let dateString = `${h}:${m}`

        let now = new Date()

        if (d !== now.getDay()) {
            let month = rideDate.getMonth()
            dateString += `, ${formatDate(rideDate)}`
        }

        return dateString
    },

    helptext() {
        return '<b>–ö—Ä–∞—Ç–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ:</b>\n' +
            '–°–æ–∑–¥–∞—Ç–µ–ª—å –ø–æ–µ–∑–¥–∫–∏ –∑–∞–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–∞–∫—Å–∏ –∏ –æ–∂–∏–¥–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–≤—à–∏—Ö—Å—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤. –°–æ–∑–¥–∞—Ç–µ–ª—å –ø–æ–µ–∑–¥–∫–∏ —Å–æ–æ–±—â–∞–µ—Ç —É—á–∞—Å—Ç–Ω–∏–∫–∞–º —Å—Ç–æ–∏–º–æ—Å—Ç—å, –≤ –∫–∞–∫–æ–µ –≤—Ä–µ–º—è –∏ –≤ –∫–∞–∫–æ–µ –º–µ—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∏ –∏–º –ø–æ–¥–æ–π—Ç–∏. –°—Ç–æ–∏–º–æ—Å—Ç—å —Ç–∞–∫—Å–∏ –¥–µ–ª–∏—Ç—Å—è –º–µ–∂–¥—É –≤—Å–µ–º–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ –ø–æ–µ–∑–¥–∫–∏.' +
            '\n\n' +
            '<i>üöñ –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–µ–∑–¥–∫–∏:</i>  –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–µ–∑–¥–æ–∫, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –¥—Ä—É–≥–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.' +
            ' –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å—Å—ã–ª–∫—É –≤–∏–¥–∞ (/rrX), —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞ –ø–æ–µ–∑–¥–∫–∏' +
            ' –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ, —á—Ç–æ –∂–µ–ª–∞—é—â–∏—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —É–∂–µ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ (–±–æ–ª—å—à–µ 4) - –≤–æ–∑–º–æ–∂–Ω–æ, –ª—É—á—à–µ –≤—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥—É—é –ø–æ–µ–∑–¥–∫—É\n' +
            '<i>‚úÖ –ú–æ–∏ –ø–æ–µ–∑–¥–∫–∏:</i>  –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–µ–∑–¥–æ–∫, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –í–∞–º–∏. ' +
            '–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å—Å—ã–ª–∫—É –≤–∏–¥–∞ (/rrX), —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç—ã –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–≤—à–∏—Ö—Å—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–µ–∑–¥–∫—É - –Ω–∞–∑–Ω–∞—á–∏—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å –ø–æ–µ–∑–¥–∫—É\n' +
            '<i>‚ûï –°–æ–∑–¥–∞—Ç—å –ø–æ–µ–∑–¥–∫—É:</i>  –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –ø–æ–µ–∑–¥–∫—É' +
            '\n\n<b>–ê–≤—Ç–æ—Ä –±–æ—Ç–∞:</b>\n' +
            '@v011d\n' +
            '–û–±—Ä–∞—â–∞–π—Ç–µ—Å—å –ø–æ –ª—é–±—ã–º –≤–æ–ø—Ä–æ—Å–∞–º'},

}

function checkTime(i) {
    if (i < 10) {
        i = "0" + i;
    }
    return i;
}

function formatDate(date) {
    var monthNames = [
        "—è–Ω–≤", "—Ñ–µ–≤", "–º–∞—Ä",
        "–∞–ø—Ä", "–º–∞–π", "–∏—é–Ω—å", "–∏—é–ª—å",
        "–∞–≤–≥", "—Å–µ–Ω", "–æ–∫—Ç",
        "–Ω–æ–≤", "–¥–µ–∫"
    ];

    var day = date.getDate();
    var monthIndex = date.getMonth();

    return day + ' ' + monthNames[monthIndex];
}

